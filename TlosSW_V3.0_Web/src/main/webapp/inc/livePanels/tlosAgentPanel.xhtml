<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<h:form id="liveResourceForm">
		<p:growl id="messages" showDetail="true" sticky="false" />

		<br></br>

		<p:commandButton value="Non-Ajax Submit" actionListener="#{tlosAgentMBean.refreshTlosAgentPanel}" ajax="false" />

		<p:fieldset id="tlosAgent" legend="#{msgs['tlos.live.panel.tlosagent.header']} - #{tlosAgentMBean.tlosAgentInfoTypeClient.agentName}" style="width: 96%;">
			
			<p:panel>
				
				<h:outputText value="#{tlosAgentMBean}" />
				
				<p:commandButton id="forcedDeactivateButton" 
					value="#{msgs['tlos.live.panel.tlosagent.forcedDeactivate']}" 
					rendered="#{tlosAgentMBean.tlosAgentInfoTypeClient.forcedDeactivate and security.ForcedDeactivateTAgent}"
					action="#{tlosAgentMBean.forcedDeactivateAgentAction}" />
	
				<p:commandButton id="normalDeactivateButton"
					value="#{msgs['tlos.live.panel.tlosagent.normalDeactivate']}"
					rendered="#{tlosAgentMBean.tlosAgentInfoTypeClient.normalDeactivate and security.NormalDeactivateTAgent}"
					actionListener="#{tlosAgentMBean.normalDeactivateAgentAction}" />
	
				<p:commandButton id="activateButton"
					value="#{msgs['tlos.live.panel.tlosagent.activate']}"
					rendered="#{tlosAgentMBean.tlosAgentInfoTypeClient.activate and security.ActivateTAgent}"
					actionListener="#{tlosAgentMBean.activateAgentAction}" />
		
			</p:panel>

			<br />

			<ui:include src="/inc/livePanels/commonJobListTable.xhtml">
				<ui:param name="backingBean" value="#{tlosAgentMBean}" />
			</ui:include>

		</p:fieldset>

	</h:form>

</ui:composition>