<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<h:form id="scenarioLiveTreeForm">
		<p:growl id="messages" showDetail="true" sticky="false" />

		<br></br>

		<p:fieldset id="jobList"
			legend="#{msgs['tlos.live.pannel.scenario.header']} - #{scenarioMBean.spcInfoTypeClient.jsName}"
			style="width: 96%;">

			<p:dataTable id="jobListDataTable" var="item" 
				value="#{scenarioMBean.jobInfoList}"
				widgetVar="itemsTable"
				binding="#{scenarioMBean.jobDataTable}"
				filteredValue="#{scenarioMBean.filteredJobs}"
				emptyMessage="No records found with given criteria"
				sortMode="multiple"
				width="100%" 
				paginator="true" rows="10" paginatorPosition="bottom"
				paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				rowsPerPageTemplate="5,10,15">

        <f:facet name="header">  
            <p:outputPanel>
                <h:outputText value="Search all fields:" />
                <p:inputText id="globalFilter" onkeyup="itemsTable.filter()" style="width:150px" />  
            </p:outputPanel>   
        </f:facet> 
        
				<p:column
					headerText="#{msgs['tlos.live.pannel.job.jobName']}"
					sortBy="#{item.jobKey}" filterBy="#{item.jobKey}"
					filterMatchMode="contains">
					<h:outputText value="#{item.jobKey}"
						style="text-align: center;" />
				</p:column>

				<p:column
					headerText="#{msgs['tlos.live.pannel.job.stateInfo']}"
					sortBy="#{item.liveStateInfo.stateName}" filterBy="#{item.liveStateInfo.stateName}"
					filterMatchMode="contains">
					<h:outputText value="#{item.liveStateInfo.stateName}"
						style="text-align: center;" />
				</p:column>
				
				<p:column
					headerText="#{msgs['tlos.live.pannel.job.subState']}"
					sortBy="#{item.liveStateInfo.substateName}" filterBy="#{item.liveStateInfo.substateName}"
					filterMatchMode="contains">
					<h:outputText value="#{item.liveStateInfo.substateName}"
						style="text-align: center;" />
				</p:column>
				
				<p:column
					headerText="#{msgs['tlos.live.pannel.job.status']}"
					sortBy="#{item.liveStateInfo.statusName}" filterBy="#{item.liveStateInfo.statusName}"
					filterMatchMode="contains">
					<h:outputText value="#{item.liveStateInfo.statusName}"
						style="text-align: center;" />
				</p:column>
				
				
				<p:column
					headerText="#{msgs['tlos.live.pannel.job.plannedTime']}"
					sortBy="#{item.jobPlanTime}" filterBy="#{item.jobPlanTime}"
					filterMatchMode="contains">
					<h:outputText value="#{item.jobPlanTime}"
						style="text-align: center;" />
				</p:column>
				
				<p:column
					headerText="#{msgs['tlos.live.pannel.job.execution']}"
					sortBy="#{item.plannedExecutionDate}" filterBy="#{item.plannedExecutionDate}"
					filterMatchMode="contains">
					<h:outputText value="#{item.plannedExecutionDate}"
						style="text-align: center;" />
				</p:column>
				
				<p:column
					headerText="#{msgs['tlos.live.pannel.job.duration']}"
					sortBy="#{item.workDuration}" filterBy="#{item.workDuration}"
					filterMatchMode="contains">
					<h:outputText value="#{item.workDuration}"
						style="text-align: center;" />
				</p:column>
				
				<p:column
					headerText="#{msgs['tlos.workspace.pannel.job.oSystem']}"
					sortBy="#{item.oSystem}" 
                    filterOptions="#{scenarioMBean.osSelectItem}"
                    filterMatchMode="exact"> 
					<h:outputText value="#{item.oSystem}"
						style="text-align: center;" />
				</p:column>
				
				

			</p:dataTable>
		</p:fieldset>

	</h:form>

</ui:composition>